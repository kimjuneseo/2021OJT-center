<%@page import="java.sql.Timestamp"%>
<%@page import="org.apache.jasper.tagplugins.jstl.core.ForEach"%>
<%@page import="member.MemberDataBean"%>
<%@page import="java.util.ArrayList"%>
<%@page import="member.MemberDBBean"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style >
	*{padding: 0; margin: 0; box-sizing: border-box;}
	.container{width:1300px; margin:0 auto; }
</style>
</head>
<body>
<%
	request.setCharacterEncoding("utf-8");
	String id = request.getParameter("id");
	String pwd = request.getParameter("pwd");
	MemberDBBean member = MemberDBBean.getInstance();
	ArrayList<MemberDataBean> memberList = member.getAllMembers(id, pwd);
	
	out.print("<script>");
		if(id == "admin" && pwd == "1234"){
		}else{
			/* out.print("location = 'memberAdminLoginForm.jsp';"); */
		}
	out.print("</script>");
%>
	<div class="container">
		<h2>회원전체조회</h2>
		<table border="1">
			<tr>
				<th>아이디</th>
				<th>비번</th>
				<th>이름</th>
				<th>전화번호</th>
				<th>주소</th>
				<th>이메일</th>
				<th>가입날짜</th>
			</tr>
<%
		for(MemberDataBean memberData : memberList){
			String ids = memberData.getId();
			String pwds = memberData.getPwd();
			String name = memberData.getName();
			String tel = memberData.getTel();
			String address1 = memberData.getAddress1();
			String address2 = memberData.getAddress2();
			String email = memberData.getEmail();
			Timestamp regdate = memberData.getRegdate();		
		
%>
				<tr>
					<td><%=ids%></td>
					<td><%=pwds%></td>
					<td><%=name%></td>
					<td><%=tel%></td>
					<td><%=address1%> &nbsp; <%=address2%></td>
					<td><%=email%></td>
					<td><%=regdate%></td>
				</tr>
				
<%
		}
%>
			</table>
	</div>
	
</body>
</html>